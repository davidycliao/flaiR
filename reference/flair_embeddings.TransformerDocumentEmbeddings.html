<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Initializing a Class for TransformerDocumentEmbeddings — flair_embeddings.TransformerDocumentEmbeddings • flaiR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Initializing a Class for TransformerDocumentEmbeddings — flair_embeddings.TransformerDocumentEmbeddings"><meta name="description" content="This function interfaces with Python via reticulate to
create a flair_embeddings.TransformerDocumentEmbeddings object from
the flair.embeddings module."><meta property="og:description" content="This function interfaces with Python via reticulate to
create a flair_embeddings.TransformerDocumentEmbeddings object from
the flair.embeddings module."><meta property="og:image" content="https://davidycliao.github.io/flaiR/logo.png"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-3ZG40PPG98"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3ZG40PPG98');
</script><script defer data-domain="{YOUR DOMAIN},all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flaiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-quick-start" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-rocket"></span> Quick Start</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-quick-start"><li><a class="dropdown-item" href="../articles/quickstart.html#nlp-tasks">NLP Tasks</a></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html#class-and-ojbect">Class and Ojbect</a></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html#more-details-about-installation">More Details about Installation</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorial" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-project-diagram"></span> Tutorial</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorial"><li><a class="dropdown-item" href="../articles/tutorial.html#introduction">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#sentence-and-token">Sentence and Token</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#sequence-taggings">Sequence Taggings</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#performing-ner-tasks">Performing NER Tasks</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#flair-embedding">Embeddings</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#training-a-binary-classifier">Training a Binary Classifier</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#training-rnns">Training RNNs</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#finetune-transformers">Finetune Transformers </a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-expanded-feats" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-newspaper-o"></span> Expanded Feats</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-expanded-feats"><li><a class="dropdown-item" href="../articles/get_pos.html">Part-of-speech Tagging</a></li>
    <li><a class="dropdown-item" href="../articles/get_entities.html">Named Entity Recognition</a></li>
    <li><a class="dropdown-item" href="../articles/get_sentiments.html">Tagging Sentiment</a></li>
    <li><a class="dropdown-item" href="../articles/highlight_text.html">The Coloring Entities</a></li>
  </ul></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reference" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-file-code-o"></span> Reference</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reference"><li><a class="dropdown-item" href="../reference/index.html">All Function Reference</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-newspaper-o"></span> News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><a class="dropdown-item" href="../news/index.html#flair-006-2023-10-29">0.0.6</a></li>
    <li><a class="dropdown-item" href="../news/index.html#flair-005-2023-10-01">0.0.5</a></li>
    <li><a class="dropdown-item" href="../news/index.html#flair-003-2023-09-10">0.0.3</a></li>
    <li><a class="dropdown-item" href="../news/index.html#flair-001-development-version">0.0.1</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidycliao/flaiR"><span class="fa fa-github fa-lg"></span> GitHub</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Initializing a Class for TransformerDocumentEmbeddings</h1>
      <small class="dont-index">Source: <a href="https://github.com/davidycliao/flaiR/blob/HEAD/R/flair_embeddings.R" class="external-link"><code>R/flair_embeddings.R</code></a></small>
      <div class="d-none name"><code>flair_embeddings.TransformerDocumentEmbeddings.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function interfaces with Python via reticulate to
create a <code>flair_embeddings.TransformerDocumentEmbeddings</code> object from
the flair.embeddings module.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">flair_embeddings.TransformerDocumentEmbeddings</span><span class="op">(</span></span>
<span>  model <span class="op">=</span> <span class="st">"bert-base-uncased"</span>,</span>
<span>  layers <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  subtoken_pooling <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  fine_tune <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  allow_long_sentences <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  memory_efficient <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  use_context <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>A character string specifying the pre-trained model to use.
Defaults to 'bert-base-uncased'. This could be the name of the transformer
model, e.g., "bert-base-uncased", "gpt2-medium", etc. It can also be a path
to a pre-trained model.</p></dd>


<dt id="arg-layers">layers<a class="anchor" aria-label="anchor" href="#arg-layers"></a></dt>
<dd><p>(Optional) Layers of the transformer model to use. A string that
specifies which layers of the transformer model to use. For BERT, you can
specify multiple like "1,2,3" or single layers 1. The layers argument controls
which transformer layers are used for the embedding. If you set this value to
'-1,-2,-3,-4', the top 4 layers are used to make an embedding. If you set it
to '-1', only the last layer is used. If you set it to "all", then all layers
are used.</p></dd>


<dt id="arg-subtoken-pooling">subtoken_pooling<a class="anchor" aria-label="anchor" href="#arg-subtoken-pooling"></a></dt>
<dd><p>(Optional) Method of pooling to handle subtokens.
This determines how subtokens (word pieces) are pooled into one embedding
for the original token. Options are 'first' (use first subtoken),
'last' (use last subtoken), 'first_last' (concatenate first and last subtokens),
and 'mean' (average all subtokens).</p></dd>


<dt id="arg-fine-tune">fine_tune<a class="anchor" aria-label="anchor" href="#arg-fine-tune"></a></dt>
<dd><p>Logical. Indicates if fine-tuning should be done. Defaults
to FALSE.</p></dd>


<dt id="arg-allow-long-sentences">allow_long_sentences<a class="anchor" aria-label="anchor" href="#arg-allow-long-sentences"></a></dt>
<dd><p>Logical. Allows longer sentences to be processed.
Defaults to TRUE. In certain transformer models (like BERT), there is a
maximum sequence length. By default, Flair cuts off sentences that are too \
long. If this option is set to True, Flair will split long sentences into
smaller parts and later average the embeddings.</p></dd>


<dt id="arg-memory-efficient">memory_efficient<a class="anchor" aria-label="anchor" href="#arg-memory-efficient"></a></dt>
<dd><p>(Optional) Enables memory efficient mode in
transformers. When set to TRUE, uses less memory, but might be slower.</p></dd>


<dt id="arg-use-context">use_context<a class="anchor" aria-label="anchor" href="#arg-use-context"></a></dt>
<dd><p>Logical. Whether to consider the surrounding context
in some processing step. Default is FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A Flair TransformerWordEmbeddings in Python class.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function provides an interface for R users to easily
access and utilize the power of Flair's TransformerDocumentEmbeddings.
It bridges the gap between Python's Flair library and R, enabling
R users to leverage state-of-the-art NLP models.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>In Python's Flair library:</p><div class="sourceCode"><pre><code>
from flair.embeddings import TransformerDocumentEmbeddings
embedding = TransformerDocumentEmbeddings('bert-base-uncased')
</code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Flair's official GitHub repository: <a href="https://github.com/flairNLP/flair" class="external-link">https://github.com/flairNLP/flair</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu">flair_embeddings.TransformerDocumentEmbeddings</span><span class="op">(</span><span class="st">"bert-base-uncased"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://davidycliao.github.io" class="external-link">Yen-Chieh Liao</a>, <a href="https://muellerstefan.net" class="external-link">Stefan Müller</a>, Akbik Alan, Blythe Duncan, Vollgraf Roland.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tagging Part-of-Speech Tagging with Flair Standard Models • flaiR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tagging Part-of-Speech Tagging with Flair Standard Models">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-3ZG40PPG98"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3ZG40PPG98');
</script><script defer data-domain="{YOUR DOMAIN},all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flaiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-quick-start" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-rocket"></span> Quick Start</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-quick-start">
<li><a class="dropdown-item" href="../articles/quickstart.html#flair-installation">flaiR Installation</a></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html#nlp-tasks">NLP Tasks</a></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html#training-and-fine-tuning">Training and Finetuning</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorial" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-project-diagram"></span> Tutorial</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorial">
<li><a class="dropdown-item" href="../articles/tutorial.html#introduction">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#sentence-and-token">Sentence and Token</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#sequence-taggings">Sequence Taggings</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#performing-ner-tasks">Performing NER Tasks</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#embedding">Embeddings</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#training-a-binary-classifier">Training a Binary Classifier</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#training-rnns">Training RNNs</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#finetune-transformers">Finetune Transformers </a></li>
    <li><a class="dropdown-item" href="../articles/tutorial.html#extending-contexts-embedding-regression">Extending conText</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reference" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-file-code-o"></span> Reference</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reference">
<li><a class="dropdown-item" href="../reference/index.html">All Function Reference</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-newspaper-o"></span> News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><a class="dropdown-item" href="../news/index.html#flair-007-2024-12-26">0.0.7</a></li>
    <li><a class="dropdown-item" href="../news/index.html#flair-006-2023-10-29">0.0.6</a></li>
    <li><a class="dropdown-item" href="../news/index.html#flair-005-2023-10-01">0.0.5</a></li>
    <li><a class="dropdown-item" href="../news/index.html#flair-003-2023-09-10">0.0.3</a></li>
    <li><a class="dropdown-item" href="../news/index.html#flair-001-development-version">0.0.1</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidycliao/flaiR"><span class="fa fa-github fa-lg"></span> GitHub</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tagging Part-of-Speech Tagging with Flair Standard Models</h1>
                        <h4 data-toc-skip class="author">David
(Yen-Chieh) Liao</h4>
            <address class="author_afil">
      Postdoc at Text &amp; Policy Research Group and SPIRe in
UCD<br><small class="dont-index">Source: <a href="https://github.com/davidycliao/flaiR/blob/HEAD/vignettes/get_pos.Rmd" class="external-link"><code>vignettes/get_pos.Rmd</code></a></small>
      <div class="d-none name"><code>get_pos.Rmd</code></div>
    </address>
</div>

    
    
<div class="section level2">
<h2 id="generic-approach-using-part-of-speech-tagging">Generic Approach Using Part-of-Speech Tagging<a class="anchor" aria-label="anchor" href="#generic-approach-using-part-of-speech-tagging"></a>
</h2>
<div style="text-align: justify">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://davidycliao.github.io/flaiR">flaiR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"de_immigration"</span><span class="op">)</span></span>
<span><span class="va">uk_immigration</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">uk_immigration</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>Download the de-pos part-of-speech tagging model from FlairNLP on
Hugging Face.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tagger_pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_tagger_pos.html">load_tagger_pos</a></span><span class="op">(</span><span class="st">"pos"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading POS tagger model: pos</span></span>
<span><span class="co">#&gt; 2024-12-31 11:22:26,593 SequenceTagger predicts: Dictionary with 53 tags: &lt;unk&gt;, O, UH, ,, VBD, PRP, VB, PRP$, NN, RB, ., DT, JJ, VBP, VBG, IN, CD, NNS, NNP, WRB, VBZ, WDT, CC, TO, MD, VBN, WP, :, RP, EX, JJR, FW, XX, HYPH, POS, RBR, JJS, PDT, NNPS, RBS, AFX, WP$, -LRB-, -RRB-, ``, '', LS, $, SYM, ADD</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; POS Tagger Dictionary:</span></span>
<span><span class="co">#&gt; ========================================</span></span>
<span><span class="co">#&gt; Total tags: 53</span></span>
<span><span class="co">#&gt; ----------------------------------------</span></span>
<span><span class="co">#&gt; Special:       &lt;unk&gt;, O, &lt;START&gt;, &lt;STOP&gt; </span></span>
<span><span class="co">#&gt; Nouns:         PRP, PRP$, NN, NNS, NNP, WP, EX, NNPS, WP$ </span></span>
<span><span class="co">#&gt; Verbs:         VBD, VB, VBP, VBG, VBZ, MD, VBN </span></span>
<span><span class="co">#&gt; Adjectives:    JJ, JJR, POS, JJS </span></span>
<span><span class="co">#&gt; Adverbs:       RB, WRB, RBR, RBS </span></span>
<span><span class="co">#&gt; Determiners:   DT, WDT, PDT </span></span>
<span><span class="co">#&gt; Prepositions:  IN, TO </span></span>
<span><span class="co">#&gt; Conjunctions:  CC </span></span>
<span><span class="co">#&gt; Numbers:       CD </span></span>
<span><span class="co">#&gt; Punctuation:   &lt;unk&gt;, ,, ., :, HYPH, -LRB-, -RRB-, ``, '', $, NFP, &lt;START&gt;, &lt;STOP&gt; </span></span>
<span><span class="co">#&gt; Others:        UH, FW, XX, LS, $, SYM, ADD </span></span>
<span><span class="co">#&gt; ----------------------------------------</span></span>
<span><span class="co">#&gt; Common POS Tag Meanings:</span></span>
<span><span class="co">#&gt; NN*: Nouns (NNP: Proper, NNS: Plural)</span></span>
<span><span class="co">#&gt; VB*: Verbs (VBD: Past, VBG: Gerund)</span></span>
<span><span class="co">#&gt; JJ*: Adjectives (JJR: Comparative)</span></span>
<span><span class="co">#&gt; RB*: Adverbs</span></span>
<span><span class="co">#&gt; PRP: Pronouns, DT: Determiners</span></span>
<span><span class="co">#&gt; IN: Prepositions, CC: Conjunctions</span></span>
<span><span class="co">#&gt; ========================================</span></span></code></pre></div>
<p>Flair NLP operates under the <a href="https://pytorch.org" class="external-link">PyTorch</a> framework. As such, we can use
the <code>$to</code> method to set the device for the Flair Python
library. The flair_device(“cpu”) allows you to select whether to use the
CPU, CUDA devices (like cuda:0, cuda:1, cuda:2), or specific MPS devices
on Mac (such as mps:0, mps:1, mps:2). For information on Accelerated
PyTorch training on Mac, please refer to <a href="https://developer.apple.com/metal/pytorch/" class="external-link uri">https://developer.apple.com/metal/pytorch/</a>. For more
about CUDA, please visit: <a href="https://developer.nvidia.com/cuda-zone" class="external-link uri">https://developer.nvidia.com/cuda-zone</a></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tagger_pos</span><span class="op">$</span><span class="fu">to</span><span class="op">(</span><span class="fu"><a href="../reference/flair_device.html">flair_device</a></span><span class="op">(</span><span class="st">"mps"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="fu">SequenceTagger</span><span class="op">(</span></span>
<span>  <span class="op">(</span><span class="va">embeddings</span><span class="op">)</span><span class="op">:</span> <span class="fu">StackedEmbeddings</span><span class="op">(</span></span>
<span>    <span class="op">(</span><span class="va">list_embedding_0</span><span class="op">)</span><span class="op">:</span> <span class="fu">FlairEmbeddings</span><span class="op">(</span></span>
<span>      <span class="op">(</span><span class="va">lm</span><span class="op">)</span><span class="op">:</span> <span class="fu">LanguageModel</span><span class="op">(</span></span>
<span>        <span class="op">(</span><span class="va">drop</span><span class="op">)</span><span class="op">:</span> <span class="fu">Dropout</span><span class="op">(</span>p<span class="op">=</span><span class="fl">0.05</span>, inplace<span class="op">=</span><span class="va">False</span><span class="op">)</span></span>
<span>        <span class="op">(</span><span class="va">encoder</span><span class="op">)</span><span class="op">:</span> <span class="fu">Embedding</span><span class="op">(</span><span class="fl">300</span>, <span class="fl">100</span><span class="op">)</span></span>
<span>        <span class="op">(</span><span class="va">rnn</span><span class="op">)</span><span class="op">:</span> <span class="fu">LSTM</span><span class="op">(</span><span class="fl">100</span>, <span class="fl">2048</span><span class="op">)</span></span>
<span>        <span class="op">(</span><span class="va">decoder</span><span class="op">)</span><span class="op">:</span> <span class="fu">Linear</span><span class="op">(</span>in_features<span class="op">=</span><span class="fl">2048</span>, out_features<span class="op">=</span><span class="fl">300</span>, bias<span class="op">=</span><span class="va">True</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="op">(</span><span class="va">list_embedding_1</span><span class="op">)</span><span class="op">:</span> <span class="fu">FlairEmbeddings</span><span class="op">(</span></span>
<span>      <span class="op">(</span><span class="va">lm</span><span class="op">)</span><span class="op">:</span> <span class="fu">LanguageModel</span><span class="op">(</span></span>
<span>        <span class="op">(</span><span class="va">drop</span><span class="op">)</span><span class="op">:</span> <span class="fu">Dropout</span><span class="op">(</span>p<span class="op">=</span><span class="fl">0.05</span>, inplace<span class="op">=</span><span class="va">False</span><span class="op">)</span></span>
<span>        <span class="op">(</span><span class="va">encoder</span><span class="op">)</span><span class="op">:</span> <span class="fu">Embedding</span><span class="op">(</span><span class="fl">300</span>, <span class="fl">100</span><span class="op">)</span></span>
<span>        <span class="op">(</span><span class="va">rnn</span><span class="op">)</span><span class="op">:</span> <span class="fu">LSTM</span><span class="op">(</span><span class="fl">100</span>, <span class="fl">2048</span><span class="op">)</span></span>
<span>        <span class="op">(</span><span class="va">decoder</span><span class="op">)</span><span class="op">:</span> <span class="fu">Linear</span><span class="op">(</span>in_features<span class="op">=</span><span class="fl">2048</span>, out_features<span class="op">=</span><span class="fl">300</span>, bias<span class="op">=</span><span class="va">True</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="op">(</span><span class="va">word_dropout</span><span class="op">)</span><span class="op">:</span> <span class="fu">WordDropout</span><span class="op">(</span>p<span class="op">=</span><span class="fl">0.05</span><span class="op">)</span></span>
<span>  <span class="op">(</span><span class="va">locked_dropout</span><span class="op">)</span><span class="op">:</span> <span class="fu">LockedDropout</span><span class="op">(</span>p<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">(</span><span class="va">embedding2nn</span><span class="op">)</span><span class="op">:</span> <span class="fu">Linear</span><span class="op">(</span>in_features<span class="op">=</span><span class="fl">4096</span>, out_features<span class="op">=</span><span class="fl">4096</span>, bias<span class="op">=</span><span class="va">True</span><span class="op">)</span></span>
<span>  <span class="op">(</span><span class="va">rnn</span><span class="op">)</span><span class="op">:</span> <span class="fu">LSTM</span><span class="op">(</span><span class="fl">4096</span>, <span class="fl">256</span>, batch_first<span class="op">=</span><span class="va">True</span>, bidirectional<span class="op">=</span><span class="va">True</span><span class="op">)</span></span>
<span>  <span class="op">(</span><span class="va">linear</span><span class="op">)</span><span class="op">:</span> <span class="fu">Linear</span><span class="op">(</span>in_features<span class="op">=</span><span class="fl">512</span>, out_features<span class="op">=</span><span class="fl">53</span>, bias<span class="op">=</span><span class="va">True</span><span class="op">)</span></span>
<span>  <span class="op">(</span><span class="va">loss_function</span><span class="op">)</span><span class="op">:</span> <span class="fu">ViterbiLoss</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">(</span><span class="va">crf</span><span class="op">)</span><span class="op">:</span> <span class="fu">CRF</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_pos.html">get_pos</a></span><span class="op">(</span><span class="va">uk_immigration</span><span class="op">$</span><span class="va">text</span>, </span>
<span>                   <span class="va">uk_immigration</span><span class="op">$</span><span class="va">speaker</span>, <span class="va">tagger_pos</span>, </span>
<span>                   show.text_id <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                   gc.active <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt;                doc_id token_id text_id   token    tag  score</span></span>
<span><span class="co">#&gt;                &lt;char&gt;    &lt;num&gt;  &lt;lgcl&gt;  &lt;char&gt; &lt;char&gt;  &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1: Philip Hollobone        0      NA       I    PRP 1.0000</span></span>
<span><span class="co">#&gt;   2: Philip Hollobone        1      NA   thank    VBP 0.9996</span></span>
<span><span class="co">#&gt;   3: Philip Hollobone        2      NA     Mr.    NNP 1.0000</span></span>
<span><span class="co">#&gt;   4: Philip Hollobone        3      NA Speaker    NNP 1.0000</span></span>
<span><span class="co">#&gt;   5: Philip Hollobone        4      NA     for     IN 1.0000</span></span>
<span><span class="co">#&gt;  ---                                                        </span></span>
<span><span class="co">#&gt; 440:  Stewart Jackson       66      NA parties    NNS 1.0000</span></span>
<span><span class="co">#&gt; 441:  Stewart Jackson       67      NA      in     IN 1.0000</span></span>
<span><span class="co">#&gt; 442:  Stewart Jackson       68      NA    this     DT 1.0000</span></span>
<span><span class="co">#&gt; 443:  Stewart Jackson       69      NA country     NN 1.0000</span></span>
<span><span class="co">#&gt; 444:  Stewart Jackson       70      NA       ?      . 0.9949</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://davidycliao.github.io" class="external-link">Yen-Chieh Liao</a>, <a href="https://muellerstefan.net" class="external-link">Stefan Müller</a>, Akbik Alan, Blythe Duncan, Vollgraf Roland.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer>
</body>
</html>
